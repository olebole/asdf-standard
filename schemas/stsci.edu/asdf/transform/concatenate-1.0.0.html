<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>concatenate: Send axes to different subtransforms. &mdash; ASDF Standard 1.0.0 documentation</title>
    
    <link rel="stylesheet" href="../../../../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../../_static/bootstrap-3.3.4/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../../../../_static/bootstrap-3.3.4/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../../../../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../../../../_static/asdfstandard.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../../',
        VERSION:     '1.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../../../../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../../../../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../../../../_static/bootstrap-3.3.4/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../../../../_static/bootstrap-sphinx.js"></script>
    <link rel="shortcut icon" href="../../../../_static/logo.ico"/>
    <link rel="top" title="ASDF Standard 1.0.0 documentation" href="../../../../index.html" />
    <link rel="up" title="Transform" href="../../../transform.html" />
    <link rel="next" title="remap_axes: Reorder, add and drop axes." href="remap_axes-1.0.0.html" />
    <link rel="prev" title="compose: Perform a list of subtransforms in series." href="compose-1.0.0.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body role="document">
  
  <a href="https://github.com/spacetelescope/asdf-standard"
     class="visible-desktop"><img
    style="position: absolute; top: 40px; right: 0; border: 0;"
    src="https://s3.amazonaws.com/github/ribbons/forkme_right_white_ffffff.png"
    alt="Fork me on GitHub"></a>


  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../../../../index.html">
          ASDF Standard</a>
        <span class="navbar-text navbar-version pull-left"><b>1.0.0</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../../../../index.html">Document <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../file_layout.html">Low-level file layout</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../tree.html">The tree in-depth</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../versioning.html">Versioning Conventions</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../index.html">ASDF schema definitions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../extending.html">Extending ASDF</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../known_limits.html">Known limits</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../changes.html">Changes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../asdf_in_fits.html">Appendix A: Embedding ASDF in FITS</a></li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="compose-1.0.0.html" title="Previous Chapter: compose: Perform a list of subtransforms in series."><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; compose: Perf...</span>
    </a>
  </li>
  <li>
    <a href="remap_axes-1.0.0.html" title="Next Chapter: remap_axes: Reorder, add and drop axes."><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">remap_axes: R... &raquo;</span>
    </a>
  </li>
              
            
            
            
            
              <li class="hidden-sm"></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../../../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      
  <div class="section" id="concatenate-send-axes-to-different-subtransforms">
<span id="http-stsci-edu-schemas-asdf-transform-concatenate-1-0-0"></span><h1>concatenate: Send axes to different subtransforms.<a class="headerlink" href="#concatenate-send-axes-to-different-subtransforms" title="Permalink to this headline">¶</a></h1>
<p><span class="soft">Type:</span> <a class="reference internal" href="transform-1.0.0.html"><em>transform-1.0.0</em></a> <span class="soft">and</span> any.</p>
<p>Send axes to different subtransforms.</p>
<p>Transforms a set of separable inputs by splitting the axes apart,
sending them through the given subtransforms in parallel, and
finally concatenating the subtransform output axes back together.</p>
<p>The input axes are assigned to each subtransform in order.  If the
number of input axes is unequal to the sum of the number of input
axes of all of the subtransforms, that is considered an error case.</p>
<p>The output axes from each subtransform are appended together to make
up the resulting output axes.</p>
<p>For example, given 5 input axes, and 3 subtransforms with the
following orders:</p>
<ol class="arabic simple">
<li>transform A: 2 in -&gt; 2 out</li>
<li>transform B: 1 in -&gt; 2 out</li>
<li>transform C: 2 in -&gt; 1 out</li>
</ol>
<p>The transform is performed as follows:</p>
<div class="code highlight-yaml"><div class="highlight"><pre>:    i0    i1       i2       i3    i4
:    |     |        |        |     |
:  +---------+ +---------+ +----------+
:  |    A    | |    B    | |    C     |
:  +---------+ +---------+ +----------+
:    |     |     |     |        |
:    o0    o1    o2    o3       o4
</pre></div>
</div>
<p>If reordering of the input or output axes is required, use in series
with the <code class="code docutils literal"><span class="pre">remap_axes</span></code> transform.</p>
<p>Invertibility: All ASDF tools are required to be able to compute the
analytic inverse of this transform.</p>
<p><span class="category">All of:</span></p>
<blockquote>
<div><p id="http-stsci-edu-schemas-asdf-transform-concatenate-1-0-0-allof-0"><span class="entry">0</span></p>
<p><span class="soft">Type:</span> <a class="reference internal" href="transform-1.0.0.html"><em>transform-1.0.0</em></a>.</p>
<p id="http-stsci-edu-schemas-asdf-transform-concatenate-1-0-0-allof-1"><span class="entry">1</span></p>
<p><span class="soft">Type:</span> any.</p>
</div></blockquote>
<p><span class="category">Examples:</span></p>
<p>The example in the description:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="kt">!transform</span><span class="l-Scalar-Plain">/concatenate-1.0.0</span>
  <span class="l-Scalar-Plain">forward</span><span class="p-Indicator">:</span>
    <span class="p-Indicator">-</span> <span class="kt">!transform</span><span class="l-Scalar-Plain">/generic-1.0.0</span>
      <span class="l-Scalar-Plain">n_inputs</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">2</span>
      <span class="l-Scalar-Plain">n_outputs</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">2</span>
    <span class="p-Indicator">-</span> <span class="kt">!transform</span><span class="l-Scalar-Plain">/generic-1.0.0</span>
      <span class="l-Scalar-Plain">n_inputs</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">1</span>
      <span class="l-Scalar-Plain">n_outputs</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">2</span>
    <span class="p-Indicator">-</span> <span class="kt">!transform</span><span class="l-Scalar-Plain">/generic-1.0.0</span>
      <span class="l-Scalar-Plain">n_inputs</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">2</span>
      <span class="l-Scalar-Plain">n_outputs</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">1</span>
</pre></div>
</div>
<div class="section" id="original-schema-in-yaml">
<h2>Original schema in YAML<a class="headerlink" href="#original-schema-in-yaml" title="Permalink to this headline">¶</a></h2>
<p><a class="reference download internal" href="../../../../_downloads/concatenate-1.0.0.yaml"><code class="xref download docutils literal"><span class="pre">[Download</span> <span class="pre">raw]</span></code></a></p>
<div class="highlight-yaml"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68</pre></div></td><td class="code"><div class="highlight"><pre><span class="nt">%YAML</span> <span class="m">1.1</span>
<span class="nn">---</span>
<span class="l-Scalar-Plain">$schema</span><span class="p-Indicator">:</span> <span class="s">&quot;http://stsci.edu/schemas/yaml-schema/draft-01&quot;</span>
<span class="l-Scalar-Plain">id</span><span class="p-Indicator">:</span> <span class="s">&quot;http://stsci.edu/schemas/asdf/transform/concatenate-1.0.0&quot;</span>
<span class="l-Scalar-Plain">tag</span><span class="p-Indicator">:</span> <span class="s">&quot;tag:stsci.edu:asdf/transform/concatenate-1.0.0&quot;</span>
<span class="l-Scalar-Plain">title</span><span class="p-Indicator">:</span> <span class="p-Indicator">&gt;</span>
  <span class="no">Send axes to different subtransforms.</span>

<span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="p-Indicator">|</span>
  <span class="no">Transforms a set of separable inputs by splitting the axes apart,</span>
  <span class="no">sending them through the given subtransforms in parallel, and</span>
  <span class="no">finally concatenating the subtransform output axes back together.</span>

  <span class="no">The input axes are assigned to each subtransform in order.  If the</span>
  <span class="no">number of input axes is unequal to the sum of the number of input</span>
  <span class="no">axes of all of the subtransforms, that is considered an error case.</span>

  <span class="no">The output axes from each subtransform are appended together to make</span>
  <span class="no">up the resulting output axes.</span>

  <span class="no">For example, given 5 input axes, and 3 subtransforms with the</span>
  <span class="no">following orders:</span>

  <span class="no">1. transform A: 2 in -&gt; 2 out</span>
  <span class="no">1. transform B: 1 in -&gt; 2 out</span>
  <span class="no">1. transform C: 2 in -&gt; 1 out</span>

  <span class="no">The transform is performed as follows:</span>

  <span class="no">```</span>
    <span class="no">:    i0    i1       i2       i3    i4</span>
    <span class="no">:    |     |        |        |     |</span>
    <span class="no">:  +---------+ +---------+ +----------+</span>
    <span class="no">:  |    A    | |    B    | |    C     |</span>
    <span class="no">:  +---------+ +---------+ +----------+</span>
    <span class="no">:    |     |     |     |        |</span>
    <span class="no">:    o0    o1    o2    o3       o4</span>
  <span class="no">```</span>

  <span class="no">If reordering of the input or output axes is required, use in series</span>
  <span class="no">with the `remap_axes` transform.</span>

  <span class="no">Invertibility: All ASDF tools are required to be able to compute the</span>
  <span class="no">analytic inverse of this transform.</span>
<span class="l-Scalar-Plain">examples</span><span class="p-Indicator">:</span>
  <span class="p-Indicator">-</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">The example in the description</span>
    <span class="p-Indicator">-</span> <span class="p-Indicator">|</span>
      <span class="no">!transform/concatenate-1.0.0</span>
        <span class="no">forward:</span>
          <span class="no">- !transform/generic-1.0.0</span>
            <span class="no">n_inputs: 2</span>
            <span class="no">n_outputs: 2</span>
          <span class="no">- !transform/generic-1.0.0</span>
            <span class="no">n_inputs: 1</span>
            <span class="no">n_outputs: 2</span>
          <span class="no">- !transform/generic-1.0.0</span>
            <span class="no">n_inputs: 2</span>
            <span class="no">n_outputs: 1</span>

<span class="l-Scalar-Plain">allOf</span><span class="p-Indicator">:</span>
  <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">$ref</span><span class="p-Indicator">:</span> <span class="s">&quot;transform-1.0.0&quot;</span>
  <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">properties</span><span class="p-Indicator">:</span>
      <span class="l-Scalar-Plain">forward</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">array</span>
        <span class="l-Scalar-Plain">items</span><span class="p-Indicator">:</span>
          <span class="l-Scalar-Plain">$ref</span><span class="p-Indicator">:</span> <span class="s">&quot;transform-1.0.0&quot;</span>
    <span class="l-Scalar-Plain">required</span><span class="p-Indicator">:</span> <span class="p-Indicator">[</span><span class="nv">forward</span><span class="p-Indicator">]</span>
</pre></div>
</td></tr></table></div>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2014, Michael Droettboom, Erik Bray, Space Telescope Science Institute.<br/>
      Last updated on Sep 18, 2015.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.1.<br/>
    </p>
  </div>
</footer>
  </body>
</html>