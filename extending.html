<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Extending ASDF &mdash; ASDF Standard 1.0.0 documentation</title>
    
    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-3.3.4/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-3.3.4/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="_static/asdfstandard.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="_static/bootstrap-3.3.4/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>
    <link rel="shortcut icon" href="_static/logo.ico"/>
    <link rel="top" title="ASDF Standard 1.0.0 documentation" href="index.html" />
    <link rel="next" title="draft: YAML Schema" href="schemas/stsci.edu/yaml-schema/draft-01.html" />
    <link rel="prev" title="composite_frame: Represents a set of frames." href="schemas/stsci.edu/asdf/wcs/composite_frame-1.0.0.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body role="document">
  
  <a href="https://github.com/spacetelescope/asdf-standard"
     class="visible-desktop"><img
    style="position: absolute; top: 40px; right: 0; border: 0;"
    src="https://s3.amazonaws.com/github/ribbons/forkme_right_white_ffffff.png"
    alt="Fork me on GitHub"></a>


  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html">
          ASDF Standard</a>
        <span class="navbar-text navbar-version pull-left"><b>1.0.0</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="index.html">Document <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="file_layout.html">Low-level file layout</a></li>
<li class="toctree-l1"><a class="reference internal" href="tree.html">The tree in-depth</a></li>
<li class="toctree-l1"><a class="reference internal" href="versioning.html">Versioning Conventions</a></li>
<li class="toctree-l1"><a class="reference internal" href="schemas/index.html">ASDF schema definitions</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Extending ASDF</a></li>
<li class="toctree-l1"><a class="reference internal" href="known_limits.html">Known limits</a></li>
<li class="toctree-l1"><a class="reference internal" href="changes.html">Changes</a></li>
<li class="toctree-l1"><a class="reference internal" href="asdf_in_fits.html">Appendix A: Embedding ASDF in FITS</a></li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="schemas/stsci.edu/asdf/wcs/composite_frame-1.0.0.html" title="Previous Chapter: composite_frame: Represents a set of frames."><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; composite_fra...</span>
    </a>
  </li>
  <li>
    <a href="schemas/stsci.edu/yaml-schema/draft-01.html" title="Next Chapter: draft: YAML Schema"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">draft: YAML S... &raquo;</span>
    </a>
  </li>
              
            
            
            
            
              <li class="hidden-sm"></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      
  <div class="section" id="extending-asdf">
<span id="id1"></span><h1>Extending ASDF<a class="headerlink" href="#extending-asdf" title="Permalink to this headline">¶</a></h1>
<p>ASDF is designed to be extensible so outside teams can add their own
types and structures while retaining compatibility with tools that
don&#8217;t understand those conventions.</p>
<div class="section" id="yaml-schema">
<span id="id2"></span><h2>YAML Schema<a class="headerlink" href="#yaml-schema" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
</div>
<p><a class="reference internal" href="schemas/stsci.edu/yaml-schema/draft-01.html#http-stsci-edu-schemas-yaml-schema-draft-01"><span>YAML Schema</span></a> is
a small extension to <a class="reference external" href="http://json-schema.org/latest/json-schema-validation.html">JSON Schema Draft 4</a> that
adds some features specific to YAML..  <a class="reference external" href="http://spacetelescope.github.io/understanding-json-schema/">Understanding JSON Schema</a>
provides a good resource for understanding how to use JSON Schema, and
further resources are available at <a class="reference external" href="http://json-schema.org">json-schema.org</a>.  A working understanding of JSON Schema
is assumed for this section, which only describes what makes YAML
Schema different from JSON Schema.</p>
<p>Writing a new schema is described in <a class="reference internal" href="#designing-schema"><span>Designing a new tag and schema</span></a>.</p>
<div class="section" id="tag-keyword">
<h3><code class="docutils literal"><span class="pre">tag</span></code> keyword<a class="headerlink" href="#tag-keyword" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal"><span class="pre">tag</span></code>, which may be attached to any data type, declares that the
element must have the given YAML tag.</p>
<p>For example, the root <a class="reference internal" href="schemas/stsci.edu/asdf/core/asdf-1.0.0.html#http-stsci-edu-schemas-asdf-core-asdf-1-0-0"><span>asdf</span></a> schema declares that
the <code class="docutils literal"><span class="pre">data</span></code> property must be an <a class="reference internal" href="schemas/stsci.edu/asdf/core/ndarray-1.0.0.html#http-stsci-edu-schemas-asdf-core-ndarray-1-0-0"><span>ndarray</span></a>.  It does
this not by using the <code class="docutils literal"><span class="pre">tag</span></code> keyword directly, but by referencing the
<code class="docutils literal"><span class="pre">ndarray</span></code> schema, which in turn has the <code class="docutils literal"><span class="pre">tag</span></code> keyword.  The ASDF
schema includes:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="l-Scalar-Plain">properties</span><span class="p-Indicator">:</span>
  <span class="l-Scalar-Plain">data</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">$ref</span><span class="p-Indicator">:</span> <span class="s">&quot;ndarray&quot;</span>
</pre></div>
</div>
<p>And the <a class="reference internal" href="schemas/stsci.edu/asdf/core/ndarray-1.0.0.html#http-stsci-edu-schemas-asdf-core-ndarray-1-0-0"><span>ndarray</span></a> schema includes:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="l-Scalar-Plain">tag</span><span class="p-Indicator">:</span> <span class="s">&quot;tag:stsci.edu:asdf/core/ndarray-1.0.0&quot;</span>
</pre></div>
</div>
<p>This has the net effect of requiring that the <code class="docutils literal"><span class="pre">data</span></code> property at the
top-level of all ASDF files is tagged as
<code class="docutils literal"><span class="pre">tag:stsci.edu:asdf/core/ndarray-1.0.0</span></code>.</p>
</div>
<div class="section" id="propertyorder-keyword">
<h3><code class="docutils literal"><span class="pre">propertyOrder</span></code> keyword<a class="headerlink" href="#propertyorder-keyword" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal"><span class="pre">propertyOrder</span></code>, which applies only to objects, declares that the
object must have its properties presented in the given order.</p>
<p>TBD: It is not yet clear whether this keyword is necessary or desirable.</p>
</div>
<div class="section" id="flowstyle-keyword">
<h3><code class="docutils literal"><span class="pre">flowStyle</span></code> keyword<a class="headerlink" href="#flowstyle-keyword" title="Permalink to this headline">¶</a></h3>
<p>Must be either <code class="docutils literal"><span class="pre">block</span></code> or <code class="docutils literal"><span class="pre">flow</span></code>.</p>
<p>Specifies the default serialization style to use for an array or
object.  YAML supports multiple styles for arrays/sequences and
objects/maps, called &#8220;block style&#8221; and &#8220;flow style&#8221;.  For example:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="l-Scalar-Plain">Block style</span><span class="p-Indicator">:</span> <span class="kt">!!map</span>
 <span class="l-Scalar-Plain">Clark</span> <span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Evans</span>
 <span class="l-Scalar-Plain">Ingy</span>  <span class="p-Indicator">:</span> <span class="l-Scalar-Plain">döt Net</span>
 <span class="l-Scalar-Plain">Oren</span>  <span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Ben-Kiki</span>

<span class="l-Scalar-Plain">Flow style</span><span class="p-Indicator">:</span> <span class="kt">!!map</span> <span class="p-Indicator">{</span> <span class="nv">Clark</span><span class="p-Indicator">:</span> <span class="nv">Evans</span><span class="p-Indicator">,</span> <span class="nv">Ingy</span><span class="p-Indicator">:</span> <span class="nv">döt Net</span><span class="p-Indicator">,</span> <span class="nv">Oren</span><span class="p-Indicator">:</span> <span class="nv">Ben-Kiki</span> <span class="p-Indicator">}</span>
</pre></div>
</div>
<p>This property gives an optional hint to the tool outputting the YAML
which style to use.  If not provided, the library is free to use
whatever heuristics it wishes to determine the output style.  This
property does not enforce any particular style on YAML being parsed.</p>
</div>
<div class="section" id="style-keyword">
<h3><code class="docutils literal"><span class="pre">style</span></code> keyword<a class="headerlink" href="#style-keyword" title="Permalink to this headline">¶</a></h3>
<p>Must be <code class="docutils literal"><span class="pre">inline</span></code>, <code class="docutils literal"><span class="pre">literal</span></code> or <code class="docutils literal"><span class="pre">folded</span></code>.</p>
<p>Specifies the default serialization style to use for a string.  YAML
supports multiple styles for strings:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="l-Scalar-Plain">Inline style</span><span class="p-Indicator">:</span> <span class="s">&quot;First</span><span class="nv"> </span><span class="s">line\nSecond</span><span class="nv"> </span><span class="s">line&quot;</span>

<span class="l-Scalar-Plain">Literal style</span><span class="p-Indicator">:</span> <span class="p-Indicator">|</span>
  <span class="no">First line</span>
  <span class="no">Second line</span>

<span class="l-Scalar-Plain">Folded style</span><span class="p-Indicator">:</span> <span class="p-Indicator">&gt;</span>
  <span class="no">First</span>
  <span class="no">line</span>

  <span class="no">Second</span>
  <span class="no">line</span>
</pre></div>
</div>
<p>This property gives an optional hint to the tool outputting the YAML
which style to use.  If not provided, the library is free to use
whatever heuristics it wishes to determine the output style.  This
property does not enforce any particular style on YAML being parsed.</p>
</div>
<div class="section" id="examples-keyword">
<h3><code class="docutils literal"><span class="pre">examples</span></code> keyword<a class="headerlink" href="#examples-keyword" title="Permalink to this headline">¶</a></h3>
<p>The schema may contain a list of examples demonstrating how to use the
schema.  It is a list where each item is a pair.  The first item in
the pair is a prose description of the example, and the second item is
YAML content (as a string) containing the example.</p>
<p>For example:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="l-Scalar-Plain">examples</span><span class="p-Indicator">:</span>
  <span class="p-Indicator">-</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">Complex number</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">1 real, -1 imaginary</span>
    <span class="p-Indicator">-</span> <span class="s">&quot;!complex</span><span class="nv"> </span><span class="s">1-1j&quot;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="asdf-schema">
<h2>ASDF Schema<a class="headerlink" href="#asdf-schema" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
</div>
<p><a class="reference internal" href="schemas/stsci.edu/asdf/asdf-schema-1.0.0.html#http-stsci-edu-schemas-asdf-asdf-schema-1-0-0"><span>ASDF Schema</span></a>
further extends YAML schema to add some validations specific to ASDF,
notably to do with <a class="reference internal" href="schemas/stsci.edu/asdf/core/ndarray-1.0.0.html#http-stsci-edu-schemas-asdf-core-ndarray-1-0-0"><span>ndarray</span></a>.</p>
<div class="section" id="ndim-keyword">
<h3><code class="docutils literal"><span class="pre">ndim</span></code> keyword<a class="headerlink" href="#ndim-keyword" title="Permalink to this headline">¶</a></h3>
<p>Specifies that the matching ndarray is exactly the given
number of dimensions.</p>
</div>
<div class="section" id="max-ndim-keyword">
<h3><code class="docutils literal"><span class="pre">max_ndim</span></code> keyword<a class="headerlink" href="#max-ndim-keyword" title="Permalink to this headline">¶</a></h3>
<p>Specifies that the corresponding ndarray is at most the given number
of dimensions.  If the array has fewer dimensions, it should be
logically treated as if it were &#8220;broadcast&#8221; to the expected dimensions
by adding 1&#8217;s to the front of the shape list.</p>
</div>
<div class="section" id="datatype-keyword">
<h3><code class="docutils literal"><span class="pre">datatype</span></code> keyword<a class="headerlink" href="#datatype-keyword" title="Permalink to this headline">¶</a></h3>
<p>Specifies the datatype of the ndarray.</p>
<p>By default, an array is considered &#8220;matching&#8221; if the array can be cast
to the given datatype without data loss.  For exact datatype matching,
set <code class="docutils literal"><span class="pre">exact_datatype</span></code> to <code class="docutils literal"><span class="pre">true</span></code>.</p>
</div>
<div class="section" id="exact-datatype-keyword">
<h3><code class="docutils literal"><span class="pre">exact_datatype</span></code> keyword<a class="headerlink" href="#exact-datatype-keyword" title="Permalink to this headline">¶</a></h3>
<p>If <code class="docutils literal"><span class="pre">true</span></code>, the datatype must match exactly, rather than just being
castable to the given datatype without data loss.</p>
</div>
</div>
<div class="section" id="designing-a-new-tag-and-schema">
<span id="designing-schema"></span><h2>Designing a new tag and schema<a class="headerlink" href="#designing-a-new-tag-and-schema" title="Permalink to this headline">¶</a></h2>
<p>The schema included in the ASDF standard will not be adequate for all
needs, but it is possible to mix them with custom schema designed for
a specific purpose.  It is also possible to extend and specialize an
existing schema (described in <a class="reference internal" href="#extending-a-schema"><span>Extending an existing schema</span></a>).</p>
<p>This section will walk through the development of a new tag and
schema.  In the example, suppose we work at the Space Telescope
Science Institute, which can be found on the world wide web at
<code class="docutils literal"><span class="pre">stsci.edu</span></code>.  We&#8217;re developing a new instrument, <code class="docutils literal"><span class="pre">FOO</span></code>, and we
need a way to define the specialized metadata to describe the
exposures that it will be generating.</p>
<div class="section" id="header">
<h3>Header<a class="headerlink" href="#header" title="Permalink to this headline">¶</a></h3>
<p>Every ASDF schema should begin with the following header:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="nt">%YAML</span> <span class="m">1.1</span>
<span class="nn">---</span>
<span class="l-Scalar-Plain">$schema</span><span class="p-Indicator">:</span> <span class="s">&quot;http://stsci.edu/schemas/yaml-schema/draft-01&quot;</span>
</pre></div>
</div>
<p>This declares that the file is <code class="docutils literal"><span class="pre">YAML</span> <span class="pre">1.1</span></code> format, and that the
structure of the content conforms to <code class="docutils literal"><span class="pre">YAML</span> <span class="pre">Schema</span></code> defined above.</p>
</div>
<div class="section" id="tags-and-ids">
<h3>Tags and IDs<a class="headerlink" href="#tags-and-ids" title="Permalink to this headline">¶</a></h3>
<p>All of the tags defined by the ASDF standard itself have the following
prefix:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="l-Scalar-Plain">tag:stsci.edu:asdf/</span>
</pre></div>
</div>
<p>This prefix is reserved for tags and schemas defined within the ASDF
standard itself.  ASDF can, of course, include any tags, as long as
the tag names are globally unique.  So, for our example instrument,
we&#8217;ll declare the tag to be:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="l-Scalar-Plain">tag:stsci.edu:FOO/metadata-1.0.0</span>
</pre></div>
</div>
<p>Each tag should be associated with a schema in order to validate
it. Each schema must also have a universally unique <code class="docutils literal"><span class="pre">id</span></code>, which is
in the form of unique URI.  For the ASDF built-in tags, the mapping
from tag name to schema URI is quite simple:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="l-Scalar-Plain">tag:stsci.edu:XXX</span>
</pre></div>
</div>
<p>maps to:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="l-Scalar-Plain">http://stsci.edu/schemas/XXX</span>
</pre></div>
</div>
<p>Note that this URI doesn&#8217;t actually have to resolve to anything.  In
fact, visiting that URL in your web browser is likely to bring up a
<code class="docutils literal"><span class="pre">404</span></code> error.  All that&#8217;s necessary is that it is universally unique
and that the tool reading the ASDF file is able to map from a tag name
to a schema URI, and then load the associated schema.</p>
<p>Again following with our example, we will assign the following URI to
refer to our schema:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="l-Scalar-Plain">http://stsci.edu/schemas/FOO/metadata-1.0.0</span>
</pre></div>
</div>
<p>Therefore, in our schema file, we have the following keys, one
declaring the name of the YAML <code class="docutils literal"><span class="pre">tag</span></code>, and one defining the <code class="docutils literal"><span class="pre">id</span></code> of
the schema:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="l-Scalar-Plain">tag</span><span class="p-Indicator">:</span> <span class="s">&quot;tag:stsci.edu:FOO/metadata-1.0.0&quot;</span>
<span class="l-Scalar-Plain">id</span><span class="p-Indicator">:</span> <span class="s">&quot;http://stsci.edu/schemas/FOO/metadata-1.0.0&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="descriptive-information">
<h3>Descriptive information<a class="headerlink" href="#descriptive-information" title="Permalink to this headline">¶</a></h3>
<p>Each schema has some descriptive fields: <code class="docutils literal"><span class="pre">title</span></code>, <code class="docutils literal"><span class="pre">description</span></code>
and <code class="docutils literal"><span class="pre">examples</span></code>.  These fields may contain core markdown syntax.</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">title</span></code>: A one-line summary of what the schema is for.</li>
<li><code class="docutils literal"><span class="pre">description</span></code>: A lengthier prose description of the schema</li>
<li><code class="docutils literal"><span class="pre">examples</span></code>: A list of example content that conforms to the schema,
illustrating how to use it.</li>
</ul>
<p>Continuing our example:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="l-Scalar-Plain">title</span><span class="p-Indicator">:</span> <span class="p-Indicator">|</span>
  <span class="no">Metadata for the FOO instrument.</span>
<span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="p-Indicator">|</span>
  <span class="no">This stores some information about an exposure from the FOO instrument.</span>
<span class="l-Scalar-Plain">examples</span><span class="p-Indicator">:</span>
  <span class="p-Indicator">-</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">A minimal description of an exposure.</span>
    <span class="p-Indicator">-</span> <span class="p-Indicator">|</span>
        <span class="no">!FOO/metadata-1.0.0</span>
          <span class="no">exposure_time: 0.001</span>
</pre></div>
</div>
</div>
<div class="section" id="the-schema-proper">
<h3>The schema proper<a class="headerlink" href="#the-schema-proper" title="Permalink to this headline">¶</a></h3>
<p>The rest of the schema describes the acceptable data types and their
structure.  The format used for this description comes straight out of
JSON Schema, and rather than documenting all of the things it can do
here, please refer to <a class="reference external" href="http://spacetelescope.github.io/understanding-json-schema/">Understanding JSON Schema</a>, and
the further resources available at <a class="reference external" href="http://json-schema.org">json-schema.org</a>.</p>
<p>In our example, we&#8217;ll define two metadata elements: the name of the
investigator, and the exposure time, each of which also have a
description:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">object</span>
<span class="l-Scalar-Plain">properties</span><span class="p-Indicator">:</span>
  <span class="l-Scalar-Plain">investigator</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">string</span>
    <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="p-Indicator">|</span>
      <span class="no">The name of the principal investigator who requested the</span>
      <span class="no">exposure.</span>

  <span class="l-Scalar-Plain">exposure_time</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">number</span>
    <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="p-Indicator">|</span>
      <span class="no">The time of the exposure, in nanoseconds.</span>
</pre></div>
</div>
<p>We&#8217;ll also define an optional element for the exposure time unit.
This is a somewhat contrived example to demonstrate how to include
elements in your schema that are based on the custom types defined in
the ASDF standard:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="l-Scalar-Plain">exposure_time_units</span><span class="p-Indicator">:</span>
  <span class="l-Scalar-Plain">$ref</span><span class="p-Indicator">:</span> <span class="s">&quot;http://stsci.edu/schemas/asdf/unit/unit-1.0.0&quot;</span>
  <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="p-Indicator">|</span>
    <span class="no">The unit of the exposure time.</span>
  <span class="l-Scalar-Plain">default</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">s</span>
</pre></div>
</div>
<p>Lastly, we&#8217;ll declare <code class="docutils literal"><span class="pre">exposure_time</span></code> as being required, and allow
extra elements to be added:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="l-Scalar-Plain">required</span><span class="p-Indicator">:</span> <span class="p-Indicator">[</span><span class="nv">exposure_time</span><span class="p-Indicator">]</span>
<span class="l-Scalar-Plain">additionalProperties</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">true</span>
</pre></div>
</div>
</div>
<div class="section" id="the-complete-example">
<h3>The complete example<a class="headerlink" href="#the-complete-example" title="Permalink to this headline">¶</a></h3>
<p>Here is our complete schema example:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="nt">%YAML</span> <span class="m">1.1</span>
<span class="nn">---</span>
<span class="l-Scalar-Plain">$schema</span><span class="p-Indicator">:</span> <span class="s">&quot;http://stsci.edu/schemas/yaml-schema/draft-01&quot;</span>
<span class="l-Scalar-Plain">tag</span><span class="p-Indicator">:</span> <span class="s">&quot;tag:stsci.edu:FOO/metadata-1.0.0&quot;</span>
<span class="l-Scalar-Plain">id</span><span class="p-Indicator">:</span> <span class="s">&quot;http://stsci.edu/schemas/FOO/metadata-1.0.0&quot;</span>

<span class="l-Scalar-Plain">title</span><span class="p-Indicator">:</span> <span class="p-Indicator">|</span>
  <span class="no">Metadata for the FOO instrument.</span>
<span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="p-Indicator">|</span>
  <span class="no">This stores some information about an exposure from the FOO instrument.</span>
<span class="l-Scalar-Plain">examples</span><span class="p-Indicator">:</span>
  <span class="p-Indicator">-</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">A minimal description of an exposure.</span>
    <span class="p-Indicator">-</span> <span class="p-Indicator">|</span>
        <span class="no">!FOO/metadata-1.0.0</span>
          <span class="no">exposure_time: 0.001</span>

<span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">object</span>
<span class="l-Scalar-Plain">properties</span><span class="p-Indicator">:</span>
  <span class="l-Scalar-Plain">investigator</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">string</span>
    <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="p-Indicator">|</span>
      <span class="no">The name of the principal investigator who requested the</span>
      <span class="no">exposure.</span>

  <span class="l-Scalar-Plain">exposure_time</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">number</span>
    <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="p-Indicator">|</span>
      <span class="no">The time of the exposure, in nanoseconds.</span>

  <span class="l-Scalar-Plain">exposure_time_units</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">$ref</span><span class="p-Indicator">:</span> <span class="s">&quot;http://stsci.edu/schemas/asdf/unit/unit-1.0.0&quot;</span>
    <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="p-Indicator">|</span>
      <span class="no">The unit of the exposure time.</span>
    <span class="l-Scalar-Plain">default</span><span class="p-Indicator">:</span>
      <span class="l-Scalar-Plain">s</span>

<span class="l-Scalar-Plain">required</span><span class="p-Indicator">:</span> <span class="p-Indicator">[</span><span class="nv">exposure_time</span><span class="p-Indicator">]</span>
<span class="l-Scalar-Plain">additionalProperties</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">true</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="extending-an-existing-schema">
<span id="extending-a-schema"></span><h2>Extending an existing schema<a class="headerlink" href="#extending-an-existing-schema" title="Permalink to this headline">¶</a></h2>
<p>TODO</p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2014, Michael Droettboom, Erik Bray, Space Telescope Science Institute.<br/>
      Last updated on Sep 18, 2015.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.1.<br/>
    </p>
  </div>
</footer>
  </body>
</html>